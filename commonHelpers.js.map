{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/img/icon.svg","../src/main.js"],"sourcesContent":["export function searchImages(query) {\n    const KEY = '42530845-4f1978a0628226c655e2788d5';\n    const BASE_URL = 'https://pixabay.com/api/';\n    const LINK = `${BASE_URL}?key=${KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`\n    \n    return fetch(LINK)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status)\n            }\n            return response.json()\n        })\n}\n    \n\n\n","export const gallery = document.querySelector('.gallery');\n\nfunction newImages({ largeImageURL, webformatURL, tags, likes, views, comments, downloads }) {\n    return `<a href=\"${largeImageURL}\">\n                <img src=\"${webformatURL}\" alt=\"${tags}\"/>\n                <div class=\"info-box\">\n                    <p class=\"info\"><b>Likes</b> ${likes}</p>\n                    <p class=\"info\"><b>Views</b> ${views}</p>\n                    <p class=\"info\"><b>Comments</b> ${comments}</p>\n                    <p class=\"info\"><b>Downloads</b> ${downloads}</p>\n                </div>\n            </a>`\n};\n\nexport function createGallery(elements) {\n    const markup = elements.map(newImages).join('');\n    return gallery.insertAdjacentHTML('beforeEnd', markup);\n};\n","export default \"__VITE_ASSET__65a791c1__\"","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { searchImages } from './js/pixabay-api';\nimport { createGallery, gallery } from './js/render-function';\nimport icon from './img/icon.svg'\n\nconst form = document.querySelector('.form');\nconst loading = document.querySelector('.loading')\n\nform.addEventListener('submit', (event) => {\n    event.preventDefault();\n    gallery.innerHTML = '';\n    const query = form.search.value.trim().replace(/\\s/g, \"+\");\n    if (query && query !== '') {\n        loading.classList.add('loader');\n        searchImages(query)\n            .then(data => {\n                loading.classList.remove('loader')\n                if (data.total !== 0) {\n                    createGallery(data.hits);\n                    const lightbox = new SimpleLightbox('.gallery a', {\n                        captionsData: 'alt',\n                        captionDelay: 100,\n                    });\n                    lightbox.refresh();\n                } else {\n                    iziToast.show({\n                        iconUrl: icon,\n                        message: `Sorry, there are no images matching your search query. Please try again!`,\n                        messageColor: '#ffffff',\n                        color: '#FF6868',\n                        position: 'topRight',\n                        progressBarColor: '#ffffff',\n                        close: false,\n                        timeout: 5000\n                    })\n                }\n            })\n            .catch(error =>( iziToast.show({\n                iconUrl: icon,\n                message: `Sorry, there is a problem - ${error}!`,\n                messageColor: '#ffffff',\n                color: '#FF7F50',\n                position: 'topRight',\n                progressBarColor: '#ffffff',\n                close: false,\n                timeout: 5000\n            }),\n            console.log(error),\n            loading.classList.remove('loader')));\n    }\n    form.reset();\n}\n)     \n\n\n"],"names":["searchImages","query","LINK","response","gallery","newImages","largeImageURL","webformatURL","tags","likes","views","comments","downloads","createGallery","elements","markup","icon","form","loading","event","data","SimpleLightbox","iziToast","error"],"mappings":"6vBAAO,SAASA,EAAaC,EAAO,CAGhC,MAAMC,EAAO,qEAA4BD,CAAK,2DAE9C,OAAO,MAAMC,CAAI,EACZ,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,KAAM,CAClC,CAAS,CACT,CCZO,MAAMC,EAAU,SAAS,cAAc,UAAU,EAExD,SAASC,EAAU,CAAE,cAAAC,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,GAAa,CACzF,MAAO,YAAYN,CAAa;AAAA,4BACRC,CAAY,UAAUC,CAAI;AAAA;AAAA,mDAEHC,CAAK;AAAA,mDACLC,CAAK;AAAA,sDACFC,CAAQ;AAAA,uDACPC,CAAS;AAAA;AAAA,iBAGhE,CAEO,SAASC,EAAcC,EAAU,CACpC,MAAMC,EAASD,EAAS,IAAIT,CAAS,EAAE,KAAK,EAAE,EAC9C,OAAOD,EAAQ,mBAAmB,YAAaW,CAAM,CACzD,CCjBA,MAAeC,EAAA,0CCQTC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAEjDD,EAAK,iBAAiB,SAAWE,GAAU,CACvCA,EAAM,eAAc,EACpBf,EAAQ,UAAY,GACpB,MAAMH,EAAQgB,EAAK,OAAO,MAAM,KAAI,EAAG,QAAQ,MAAO,GAAG,EACrDhB,GAASA,IAAU,KACnBiB,EAAQ,UAAU,IAAI,QAAQ,EAC9BlB,EAAaC,CAAK,EACb,KAAKmB,GAAQ,CACVF,EAAQ,UAAU,OAAO,QAAQ,EAC7BE,EAAK,QAAU,GACfP,EAAcO,EAAK,IAAI,EACN,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GACtC,CAAqB,EACQ,QAAO,GAEhBC,EAAS,KAAK,CACV,QAASN,EACT,QAAS,2EACT,aAAc,UACd,MAAO,UACP,SAAU,WACV,iBAAkB,UAClB,MAAO,GACP,QAAS,GACjC,CAAqB,CAErB,CAAa,EACA,MAAMO,IAAUD,EAAS,KAAK,CAC3B,QAASN,EACT,QAAS,+BAA+BO,CAAK,IAC7C,aAAc,UACd,MAAO,UACP,SAAU,WACV,iBAAkB,UAClB,MAAO,GACP,QAAS,GACzB,CAAa,EACD,QAAQ,IAAIA,CAAK,EACjBL,EAAQ,UAAU,OAAO,QAAQ,EAAE,GAE3CD,EAAK,MAAK,CACd,CACA"}