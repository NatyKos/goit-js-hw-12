{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/img/icon.svg","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nexport async function searchImages(query, page) {\n    // const KEY = '42530845-4f1978a0628226c655e2788d5';\n   \n\n    // const LINK = `${BASE_URL}?key=${KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`\n    const baseURL = 'https://pixabay.com/api/';\n    const response = await axios.get(baseURL, {\n        params: {\n            key: '42530845-4f1978a0628226c655e2788d5',\n            q: `${query}`,\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: true,\n            per_page: 15,\n            page: page\n        }\n    })\n        // .then(response => {\n        //     if (!response.ok) {\n        //         throw new Error(response.status)\n        //     }\n            return response.data\n        \n        }\n\n","export const gallery = document.querySelector('.gallery');\n\nfunction newImages({ largeImageURL, webformatURL, tags, likes, views, comments, downloads }) {\n    return `<a href=\"${largeImageURL}\">\n                <img src=\"${webformatURL}\" alt=\"${tags}\"/>\n                <div class=\"info-box\">\n                    <p class=\"info\"><b>Likes</b> ${likes}</p>\n                    <p class=\"info\"><b>Views</b> ${views}</p>\n                    <p class=\"info\"><b>Comments</b> ${comments}</p>\n                    <p class=\"info\"><b>Downloads</b> ${downloads}</p>\n                </div>\n            </a>`\n};\n\nexport function createGallery(elements) {\n    const markup = elements.map(newImages).join('');\n    return gallery.insertAdjacentHTML('beforeEnd', markup);\n};\n","export default \"__VITE_ASSET__65a791c1__\"","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { searchImages } from './js/pixabay-api';\nimport { createGallery, gallery } from './js/render-function';\nimport icon from './img/icon.svg'\n\nconst form = document.querySelector('.form');\nconst loading = document.querySelector('.loading')\n\nform.addEventListener('submit', showGallery)\n\nasync function showGallery(event) {\n    event.preventDefault();\n    gallery.innerHTML = '';\n    const query = form.search.value.trim().replace(/\\s/g, \"+\");\n    if (query && query !== '') {\n        let page = 1;\n        loading.classList.add('loader');\n        try {\n            const data = await searchImages(query, page);\n            if (data.total !== 0) {\n                loading.classList.remove('loader');\n                createGallery(data.hits);\n                const lightbox = new SimpleLightbox('.gallery a', {\n                    captionsData: 'alt',\n                    captionDelay: 100\n                });\n                lightbox.refresh();\n            } else {\n                iziToast.show({\n                    iconUrl: icon,\n                    message: `Sorry, there are no images matching your search query. Please try again!`,\n                    messageColor: '#ffffff',\n                    color: '#FF6868',\n                    position: 'topRight',\n                    progressBarColor: '#ffffff',\n                    close: false,\n                    timeout: 5000\n                });\n                loading.classList.remove('loader');\n            }\n        }\n        catch (error) {\n            iziToast.show({\n                iconUrl: icon,\n                message: `Sorry, there is a problem - ${error}!`,\n                messageColor: '#ffffff',\n                color: '#FF7F50',\n                position: 'topRight',\n                progressBarColor: '#ffffff',\n                close: false,\n                timeout: 5000\n            });\n            console.log(error);\n            loading.classList.remove('loader')\n        }\n        finally {\n            form.reset()\n        }\n    }\n}\n\n   \n\n\n\n"],"names":["searchImages","query","page","baseURL","axios","gallery","newImages","largeImageURL","webformatURL","tags","likes","views","comments","downloads","createGallery","elements","markup","icon","form","loading","showGallery","event","data","SimpleLightbox","iziToast","error"],"mappings":"owBAEO,eAAeA,EAAaC,EAAOC,EAAM,CAK5C,MAAMC,EAAU,2BAgBR,OAfS,MAAMC,EAAM,IAAID,EAAS,CACtC,OAAQ,CACJ,IAAK,qCACL,EAAG,GAAGF,CAAK,GACX,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,GACV,KAAMC,CACT,CACT,CAAK,GAKuB,IAE5B,CCzBO,MAAMG,EAAU,SAAS,cAAc,UAAU,EAExD,SAASC,EAAU,CAAE,cAAAC,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,GAAa,CACzF,MAAO,YAAYN,CAAa;AAAA,4BACRC,CAAY,UAAUC,CAAI;AAAA;AAAA,mDAEHC,CAAK;AAAA,mDACLC,CAAK;AAAA,sDACFC,CAAQ;AAAA,uDACPC,CAAS;AAAA;AAAA,iBAGhE,CAEO,SAASC,EAAcC,EAAU,CACpC,MAAMC,EAASD,EAAS,IAAIT,CAAS,EAAE,KAAK,EAAE,EAC9C,OAAOD,EAAQ,mBAAmB,YAAaW,CAAM,CACzD,CCjBA,MAAeC,EAAA,0CCQTC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAEjDD,EAAK,iBAAiB,SAAUE,CAAW,EAE3C,eAAeA,EAAYC,EAAO,CAC9BA,EAAM,eAAc,EACpBhB,EAAQ,UAAY,GACpB,MAAMJ,EAAQiB,EAAK,OAAO,MAAM,KAAI,EAAG,QAAQ,MAAO,GAAG,EACzD,GAAIjB,GAASA,IAAU,GAAI,CACvB,IAAIC,EAAO,EACXiB,EAAQ,UAAU,IAAI,QAAQ,EAC9B,GAAI,CACA,MAAMG,EAAO,MAAMtB,EAAaC,EAAOC,CAAI,EACvCoB,EAAK,QAAU,GACfH,EAAQ,UAAU,OAAO,QAAQ,EACjCL,EAAcQ,EAAK,IAAI,EACN,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAClC,CAAiB,EACQ,QAAO,IAEhBC,EAAS,KAAK,CACV,QAASP,EACT,QAAS,2EACT,aAAc,UACd,MAAO,UACP,SAAU,WACV,iBAAkB,UAClB,MAAO,GACP,QAAS,GAC7B,CAAiB,EACDE,EAAQ,UAAU,OAAO,QAAQ,EAExC,OACMM,EAAO,CACVD,EAAS,KAAK,CACV,QAASP,EACT,QAAS,+BAA+BQ,CAAK,IAC7C,aAAc,UACd,MAAO,UACP,SAAU,WACV,iBAAkB,UAClB,MAAO,GACP,QAAS,GACzB,CAAa,EACD,QAAQ,IAAIA,CAAK,EACjBN,EAAQ,UAAU,OAAO,QAAQ,CACpC,QACO,CACJD,EAAK,MAAO,CACf,CACJ,CACL"}